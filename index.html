<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halal Healthy Tech Index</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #252525;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --text-muted: #808080;
            --accent-green: #00d084;
            --accent-red: #ff4757;
            --accent-blue: #3742fa;
            --accent-yellow: #ffa502;
            --border-color: #333333;
            --chart-bg: #1e1e1e;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: var(--gradient-primary);
            border-radius: 1px;
        }

        .header h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 300;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 400;
            letter-spacing: 0.05em;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 768px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .metrics-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .holdings-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .holdings-subtitle {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .holdings-list {
                grid-template-columns: 1fr;
            }
        }

        .holding-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
        }

        .holding-item:hover {
            background: var(--chart-bg);
            border-color: var(--accent-blue);
        }

        .holding-info {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .holding-symbol {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
            font-family: 'SF Mono', monospace;
        }

        .holding-name {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.1rem;
        }

        .holding-weight {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--accent-green);
            font-family: 'SF Mono', monospace;
            min-width: 60px;
            text-align: right;
        }

        .rebalance-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .status-indicator.recent {
            background-color: var(--accent-green);
        }

        .status-indicator.due {
            background-color: var(--accent-yellow);
        }

        .status-indicator.overdue {
            background-color: var(--accent-red);
        }

        .chart-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            height: 600px;
            max-height: 600px;
        }

        /* .chart-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 12px 12px 0 0;
        } */

        .chart-title {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-title::before {
            content: '📈';
            font-size: 1rem;
        }

        #candlestickChart {
            height: 500px;
            width: 100%;
            max-height: 500px;
            display: block;
        }

        .metrics-sidebar {
            display: grid;
            gap: 1.5rem;
        }

        .metric-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(55, 66, 250, 0.15);
        }

        .metric-card.span-2 {
            grid-column: span 2;
        }

        @media (max-width: 767px) {
            .metric-card.span-2 {
                grid-column: span 1;
            }
        }

        /* .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 12px 12px 0 0;
        } */

        .metric-header {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .performance-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .performance-item:hover {
            background: var(--chart-bg);
        }

        .performance-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.3rem;
        }

        .performance-value {
            font-size: 1.2rem;
            font-weight: 600;
            font-family: 'SF Mono', monospace;
        }

        .performance-value.positive {
            color: var(--accent-green);
        }

        .performance-value.negative {
            color: var(--accent-red);
        }

        .performance-value.neutral {
            color: var(--text-secondary);
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-note {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .info-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .info-value {
            font-weight: 600;
            font-family: 'SF Mono', monospace;
            text-align: right;
        }

        .footer {
            text-align: center;
            margin-top: 3rem;
            padding: 2rem 0;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: var(--text-secondary);
        }

        .data-timestamp {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.7rem;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .performance-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .metrics-sidebar {
                gap: 1rem;
            }

            .metric-card {
                padding: 1rem;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-blue);
        }

        /* Trend Analysis Styles */
        .trend-analysis-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: var(--bg-secondary);
        }

        @media (max-width: 768px) {
            .trend-analysis-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        .trend-card {
            background: var(--bg-secondary);
            border: none;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            box-shadow: none;
            transition: none;
            border: 1px solid var(--border-color);
            padding: 1rem;
        }

        .trend-card:hover {
            border-color: var(--border-color);
            transform: none;
            box-shadow: none;
        }

        .trend-card::before {
            display: none;
        }

        .trend-card.peak::before {
            background: none;
        }

        .trend-card.valley::before {
            background: none;
        }

        .trend-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .trend-title {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .trend-icon {
            font-size: 1.2rem;
        }

        .trend-badge {
            font-size: 0.7rem;
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .trend-badge.peak {
            background: none;
            color: var(--accent-green);
            border: none;
        }

        .trend-badge.valley {
            background: none;
            color: var(--accent-red);
            border: none;
        }

        .trend-price {
            font-size: 1.2rem;
            font-weight: 600;
            font-family: 'SF Mono', monospace;
            margin-bottom: 0.3rem;
            background: none;
            color: var(--text-primary);
        }

        .trend-details {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .trend-detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .trend-detail-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .trend-detail-value {
            font-weight: 600;
            font-family: 'SF Mono', monospace;
        }

        .trend-percentage {
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'SF Mono', monospace;
        }

        .trend-percentage.positive {
            color: var(--accent-green);
        }

        .trend-percentage.negative {
            color: var(--accent-red);
        }

        .trend-current-status {
            grid-column: 1 / -1;
            background: var(--bg-secondary);
            border: none;
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            margin-top: 0.5rem;
        }

        .trend-status-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .trend-status-value {
            font-size: 1.4rem;
            font-weight: 700;
            font-family: 'SF Mono', monospace;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .trend-status-value.bullish {
            color: var(--accent-green);
        }

        .trend-status-value.bearish {
            color: var(--accent-red);
        }

        .trend-status-value.neutral {
            color: var(--accent-yellow);
        }

        /* Risk section styling */
        .risk-section {
            margin-bottom: 1.5rem;
        }

        .risk-section:last-child {
            margin-bottom: 0;
        }

        .risk-section-title {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-weight: 600;
            margin-bottom: 0.5rem;
            padding-bottom: 0.3rem;
            border-bottom: 1px solid var(--border-color);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Risk metrics grid layout */
        #riskMetrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            #riskMetrics {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="header">
            <h3>Halal Healthy Tech Index</h3>
            <div class="subtitle">Ethical Technology Investment Tracking</div>
            <div class="data-timestamp" id="lastUpdate">Last Update: Loading...</div>
        </header>

        <div class="main-grid">
            <!-- Chart Section -->
            <div class="chart-container">
                <h3 class="chart-title">Price Movement (Last 6 months)</h3>
                <div id="candlestickChart"></div>
            </div>
        </div>

        <!-- Metrics Section -->
        <div class="metrics-grid">
            <!-- Performance Metrics -->
            <div class="metric-card span-2">
                <h3 class="metric-header">📊 Performance</h3>
                <div class="performance-grid" id="performanceGrid">
                    <!-- Performance items will be populated by JavaScript -->
                </div>
            </div>

            <!-- Price Levels -->
            <div class="metric-card">
                <h3 class="metric-header">💰 Price Levels</h3>
                <div id="priceLevels">
                    <!-- Price level info will be populated by JavaScript -->
                </div>
            </div>

            <!-- Holdings Distribution -->
            <div class="metric-card span-2">
                <h3 class="metric-header">🏢 Top Holdings</h3>
                <div class="holdings-subtitle" id="holdingsSubtitle">
                    <!-- Holdings subtitle will be populated by JavaScript -->
                </div>
                <div class="holdings-list" id="holdingsList">
                    <!-- Holdings will be populated by JavaScript -->
                </div>
            </div>

            <!-- Portfolio Info -->
            <div class="metric-card">
                <h3 class="metric-header">📅 Portfolio Management</h3>
                <div id="portfolioInfo">
                    <!-- Portfolio management info will be populated by JavaScript -->
                </div>
            </div>

            <!-- Risk Metrics -->
            <div class="metric-card span-2">
                <h3 class="metric-header">⚠️ Risk Metrics</h3>
                <div id="riskMetrics">
                    <!-- Risk metrics will be populated by JavaScript -->
                </div>
            </div>

            <!-- Trend Analysis -->
            <div class="metric-card">
                <h3 class="metric-header">📈 Trend Analysis</h3>
                <div id="trendAnalysis" class="trend-analysis-container">
                    <!-- Trend analysis will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Halal Healthy Tech Index Portfolio Dashboard</p>
            <p>Data provided by Yahoo Finance • Built with Python html generator</p>
        </footer>
    </div>

    <script>
        // Sample data structure - replace this with your actual data or API call
        const sampleData = {
        "indexName": "Healthy Tech",
        "lastUpdate": "2025-08-29T20:00:12.110912+00:00",
        "currentPrice": 229.1218670887903,
        "priceData": [
                {
                        "x": "2024-12-10",
                        "o": 178.87877831215985,
                        "h": 180.23791773442272,
                        "l": 172.0244191465417,
                        "c": 173.51779168640306
                },
                {
                        "x": "2024-12-11",
                        "o": 177.8462457702285,
                        "h": 182.10311012961057,
                        "l": 175.12618730732106,
                        "c": 180.7882247583695
                },
                {
                        "x": "2024-12-12",
                        "o": 178.00019177153138,
                        "h": 180.83923161056416,
                        "l": 173.94336577064882,
                        "c": 177.01518052127307
                },
                {
                        "x": "2024-12-13",
                        "o": 184.34492267000812,
                        "h": 187.83788547247465,
                        "l": 179.4408940011409,
                        "c": 183.2055104422548
                },
                {
                        "x": "2024-12-16",
                        "o": 184.12399340825004,
                        "h": 193.19511615260132,
                        "l": 182.082146460668,
                        "c": 190.51797256349144
                },
                {
                        "x": "2024-12-17",
                        "o": 187.99694199190543,
                        "h": 191.68705526428744,
                        "l": 185.9604532893407,
                        "c": 188.6850562697047
                },
                {
                        "x": "2024-12-18",
                        "o": 189.88796437568965,
                        "h": 192.5650729920304,
                        "l": 177.82038690759177,
                        "c": 179.5946274411886
                },
                {
                        "x": "2024-12-19",
                        "o": 180.96557385702724,
                        "h": 182.20735753634028,
                        "l": 174.19706891177452,
                        "c": 175.7344817046462
                },
                {
                        "x": "2024-12-20",
                        "o": 174.97018866538895,
                        "h": 181.26378242634516,
                        "l": 173.42230569139798,
                        "c": 178.0786584698687
                },
                {
                        "x": "2024-12-23",
                        "o": 179.11115954676413,
                        "h": 184.72424287087665,
                        "l": 177.84038757385375,
                        "c": 183.9747049004088
                },
                {
                        "x": "2024-12-24",
                        "o": 185.02476972992335,
                        "h": 186.75038540487253,
                        "l": 183.1393425051768,
                        "c": 185.7005908640746
                },
                {
                        "x": "2024-12-26",
                        "o": 184.7269482191352,
                        "h": 188.13063565089968,
                        "l": 183.61363461962907,
                        "c": 186.60430181051743
                },
                {
                        "x": "2024-12-27",
                        "o": 185.6461799478347,
                        "h": 186.69014667365528,
                        "l": 181.08049264219864,
                        "c": 184.05175644538605
                },
                {
                        "x": "2024-12-30",
                        "o": 181.183118624584,
                        "h": 183.2978542888505,
                        "l": 178.0007086693072,
                        "c": 181.13210216007263
                },
                {
                        "x": "2024-12-31",
                        "o": 181.39307183746348,
                        "h": 183.47662274393383,
                        "l": 177.5756277513642,
                        "c": 178.93263034221977
                },
                {
                        "x": "2025-01-02",
                        "o": 166.24156190383445,
                        "h": 168.9584590717173,
                        "l": 163.13148367054958,
                        "c": 165.0920627539916
                },
                {
                        "x": "2025-01-03",
                        "o": 166.52427276846964,
                        "h": 171.40371377603577,
                        "l": 165.33492472189866,
                        "c": 169.8615778457878
                },
                {
                        "x": "2025-01-06",
                        "o": 174.000183620341,
                        "h": 177.94518990314896,
                        "l": 172.00326472346467,
                        "c": 174.29609053491995
                },
                {
                        "x": "2025-01-07",
                        "o": 177.25560945911326,
                        "h": 178.0554724243502,
                        "l": 169.977473479783,
                        "c": 170.9689022625542
                },
                {
                        "x": "2025-01-08",
                        "o": 170.59519620819472,
                        "h": 173.44796773615602,
                        "l": 167.3505735992608,
                        "c": 170.35239335158755
                },
                {
                        "x": "2025-01-10",
                        "o": 167.9486396338324,
                        "h": 169.63948039273816,
                        "l": 162.79558425733245,
                        "c": 165.65882381963166
                },
                {
                        "x": "2025-01-13",
                        "o": 161.96541649759092,
                        "h": 165.46191875280712,
                        "l": 160.1349603677393,
                        "c": 163.7439654809708
                },
                {
                        "x": "2025-01-14",
                        "o": 165.53656419045177,
                        "h": 167.25482836139827,
                        "l": 162.08512083222462,
                        "c": 164.54554100711724
                },
                {
                        "x": "2025-01-15",
                        "o": 168.27339345786385,
                        "h": 170.3798170975539,
                        "l": 166.11297940093436,
                        "c": 168.5003480806891
                },
                {
                        "x": "2025-01-16",
                        "o": 171.4068218689623,
                        "h": 172.8150709816618,
                        "l": 167.0550606795477,
                        "c": 168.09742243112177
                },
                {
                        "x": "2025-01-17",
                        "o": 171.3948595335995,
                        "h": 174.49490031688202,
                        "l": 169.2487227474836,
                        "c": 173.06688929521357
                },
                {
                        "x": "2025-01-21",
                        "o": 175.36694807435634,
                        "h": 179.21779788932167,
                        "l": 173.41905972732602,
                        "c": 176.72698663311195
                },
                {
                        "x": "2025-01-22",
                        "o": 180.9213583043543,
                        "h": 186.61708430432932,
                        "l": 178.254442600104,
                        "c": 183.895214019902
                },
                {
                        "x": "2025-01-23",
                        "o": 180.92869913360408,
                        "h": 184.75254897688947,
                        "l": 179.49376351864856,
                        "c": 184.2621077955625
                },
                {
                        "x": "2025-01-24",
                        "o": 185.5444775420204,
                        "h": 186.87871813746213,
                        "l": 180.11831371325314,
                        "c": 181.78962439342573
                },
                {
                        "x": "2025-01-27",
                        "o": 169.34609463689588,
                        "h": 172.69914054612244,
                        "l": 158.08848153539572,
                        "c": 161.1217924686144
                },
                {
                        "x": "2025-01-28",
                        "o": 163.83673813230587,
                        "h": 168.08907833776442,
                        "l": 158.425584018875,
                        "c": 166.1650417641499
                },
                {
                        "x": "2025-01-29",
                        "o": 166.14238201357347,
                        "h": 167.46851264089153,
                        "l": 162.29318429704628,
                        "c": 165.182064788675
                },
                {
                        "x": "2025-01-30",
                        "o": 168.26071932761218,
                        "h": 171.7140840393513,
                        "l": 166.128774871218,
                        "c": 169.68110232412624
                },
                {
                        "x": "2025-01-31",
                        "o": 170.68273487431605,
                        "h": 175.02050446575632,
                        "l": 167.810190487887,
                        "c": 169.41090820810177
                },
                {
                        "x": "2025-02-03",
                        "o": 164.22076800443915,
                        "h": 169.86401361742168,
                        "l": 163.00002039711026,
                        "c": 167.1198006793217
                },
                {
                        "x": "2025-02-04",
                        "o": 167.29926135895644,
                        "h": 172.75662095234304,
                        "l": 166.25635771220547,
                        "c": 171.6593427617912
                },
                {
                        "x": "2025-02-05",
                        "o": 173.46930840760243,
                        "h": 177.05088961460325,
                        "l": 171.42167807084027,
                        "c": 174.69096343945404
                },
                {
                        "x": "2025-02-06",
                        "o": 175.35963305713116,
                        "h": 177.97549147736032,
                        "l": 172.43407528505168,
                        "c": 176.31546568533943
                },
                {
                        "x": "2025-02-07",
                        "o": 180.21210519522825,
                        "h": 184.89238156651555,
                        "l": 175.7973863318032,
                        "c": 181.4136706918095
                },
                {
                        "x": "2025-02-10",
                        "o": 182.18720655928283,
                        "h": 185.94254354459423,
                        "l": 179.90098902922196,
                        "c": 183.62113711314657
                },
                {
                        "x": "2025-02-11",
                        "o": 181.20548936577515,
                        "h": 185.08092868529636,
                        "l": 178.74237278299196,
                        "c": 181.3064782488931
                },
                {
                        "x": "2025-02-12",
                        "o": 178.39422696169433,
                        "h": 182.402655036402,
                        "l": 176.49522211140405,
                        "c": 181.18767355638136
                },
                {
                        "x": "2025-02-13",
                        "o": 182.92181584934968,
                        "h": 186.15575643349493,
                        "l": 180.09468288603125,
                        "c": 184.5217626979843
                },
                {
                        "x": "2025-02-14",
                        "o": 184.375826344202,
                        "h": 186.70293374627025,
                        "l": 181.0490948060629,
                        "c": 184.04974751794688
                },
                {
                        "x": "2025-02-18",
                        "o": 186.00005510577532,
                        "h": 189.28865544778932,
                        "l": 182.64620581546643,
                        "c": 185.8208107505022
                },
                {
                        "x": "2025-02-19",
                        "o": 185.745476540648,
                        "h": 189.0232348302352,
                        "l": 182.4148833948565,
                        "c": 185.59534950848132
                },
                {
                        "x": "2025-02-20",
                        "o": 185.5469647481315,
                        "h": 187.2310850650877,
                        "l": 179.84194601616045,
                        "c": 183.78195851858447
                },
                {
                        "x": "2025-02-21",
                        "o": 183.39452922179075,
                        "h": 184.65733634351636,
                        "l": 175.2298796550108,
                        "c": 176.46565457800628
                },
                {
                        "x": "2025-02-24",
                        "o": 176.96601368542693,
                        "h": 178.26399101796784,
                        "l": 169.28983814526077,
                        "c": 171.87480541857465
                },
                {
                        "x": "2025-02-25",
                        "o": 171.40599147302038,
                        "h": 172.52174564273926,
                        "l": 166.33146637463594,
                        "c": 168.8656603209227
                },
                {
                        "x": "2025-02-26",
                        "o": 172.684033748454,
                        "h": 176.79256534407645,
                        "l": 170.77958595152683,
                        "c": 173.9349033929346
                },
                {
                        "x": "2025-02-27",
                        "o": 175.38536695386122,
                        "h": 176.3399610905679,
                        "l": 160.87806650352908,
                        "c": 161.2365465088332
                },
                {
                        "x": "2025-02-28",
                        "o": 160.0720556367071,
                        "h": 165.3684030005862,
                        "l": 157.69042641856475,
                        "c": 163.36360759878164
                },
                {
                        "x": "2025-03-03",
                        "o": 165.43189791506083,
                        "h": 165.92765813116756,
                        "l": 153.3018332704854,
                        "c": 154.63745258583003
                },
                {
                        "x": "2025-03-04",
                        "o": 153.45952946045853,
                        "h": 160.29068346364218,
                        "l": 148.8541634938562,
                        "c": 155.9633956739583
                },
                {
                        "x": "2025-03-05",
                        "o": 157.04203284960835,
                        "h": 161.40811907822052,
                        "l": 154.4242663048136,
                        "c": 160.3777817047229
                },
                {
                        "x": "2025-03-06",
                        "o": 154.74488573158905,
                        "h": 158.83813652345194,
                        "l": 148.72877421719795,
                        "c": 149.89933865654731
                },
                {
                        "x": "2025-03-07",
                        "o": 151.47622933248033,
                        "h": 157.25613150413022,
                        "l": 147.486736230136,
                        "c": 155.39955720730083
                },
                {
                        "x": "2025-03-10",
                        "o": 151.3731339889623,
                        "h": 154.30326626111346,
                        "l": 146.01147896003366,
                        "c": 148.64803980976126
                },
                {
                        "x": "2025-03-11",
                        "o": 149.63900949876836,
                        "h": 154.20742158639806,
                        "l": 145.47944858361947,
                        "c": 150.39713674794862
                },
                {
                        "x": "2025-03-12",
                        "o": 154.8033277666407,
                        "h": 158.58361418878144,
                        "l": 152.8399683053727,
                        "c": 155.2962332814936
                },
                {
                        "x": "2025-03-13",
                        "o": 154.02362406931985,
                        "h": 156.52732728459802,
                        "l": 150.24449049904777,
                        "c": 151.97240746070278
                },
                {
                        "x": "2025-03-14",
                        "o": 156.24007176071206,
                        "h": 160.9558762268217,
                        "l": 155.19590390751566,
                        "c": 160.03006238354118
                },
                {
                        "x": "2025-03-17",
                        "o": 159.30050151949618,
                        "h": 165.90631066474756,
                        "l": 158.17969301959383,
                        "c": 164.02012750278865
                },
                {
                        "x": "2025-03-18",
                        "o": 161.97232641693014,
                        "h": 163.66029060206336,
                        "l": 158.09094014963233,
                        "c": 160.0362642821203
                },
                {
                        "x": "2025-03-19",
                        "o": 160.75949906081257,
                        "h": 166.27207086021477,
                        "l": 159.00319090237198,
                        "c": 163.23855713466
                },
                {
                        "x": "2025-03-20",
                        "o": 161.2336421203958,
                        "h": 166.52963035122667,
                        "l": 158.72947398161696,
                        "c": 160.41668400040533
                },
                {
                        "x": "2025-03-21",
                        "o": 157.09990877547688,
                        "h": 159.541131387067,
                        "l": 154.02738408778373,
                        "c": 157.954309171947
                },
                {
                        "x": "2025-03-24",
                        "o": 161.4038856735278,
                        "h": 165.9966304587402,
                        "l": 159.1684952337173,
                        "c": 163.28713498822208
                },
                {
                        "x": "2025-03-25",
                        "o": 162.9949324979189,
                        "h": 165.21474427569223,
                        "l": 161.18865149419216,
                        "c": 163.3590400454617
                },
                {
                        "x": "2025-03-26",
                        "o": 162.4757351453034,
                        "h": 163.09370302364536,
                        "l": 154.3567395541181,
                        "c": 156.07024962535962
                },
                {
                        "x": "2025-03-27",
                        "o": 154.24829501067347,
                        "h": 157.08440404926043,
                        "l": 150.7549882389184,
                        "c": 153.92887982692417
                },
                {
                        "x": "2025-03-28",
                        "o": 153.36944936220164,
                        "h": 155.49404660708433,
                        "l": 147.9375901036566,
                        "c": 149.76389064484198
                },
                {
                        "x": "2025-03-31",
                        "o": 145.68378629678713,
                        "h": 149.8481008423505,
                        "l": 142.65653505505617,
                        "c": 149.05056952203662
                },
                {
                        "x": "2025-04-01",
                        "o": 150.9882887037265,
                        "h": 153.9664665677415,
                        "l": 148.5414695132737,
                        "c": 153.02287128488177
                },
                {
                        "x": "2025-04-02",
                        "o": 149.26493981014784,
                        "h": 156.34866090591188,
                        "l": 148.58270019604905,
                        "c": 154.63055697071553
                },
                {
                        "x": "2025-04-03",
                        "o": 144.8193468639571,
                        "h": 147.45399421444017,
                        "l": 135.40910186040367,
                        "c": 136.61771938025169
                },
                {
                        "x": "2025-04-04",
                        "o": 130.79563815843215,
                        "h": 134.1447530536802,
                        "l": 123.43031675183276,
                        "c": 128.45072154857658
                },
                {
                        "x": "2025-04-07",
                        "o": 124.19815803179571,
                        "h": 140.023624793293,
                        "l": 120.0602068345676,
                        "c": 132.25924603830478
                },
                {
                        "x": "2025-04-08",
                        "o": 139.29712198047338,
                        "h": 141.70277127172133,
                        "l": 125.60544106991917,
                        "c": 128.8793371303111
                },
                {
                        "x": "2025-04-09",
                        "o": 130.29420113933222,
                        "h": 154.20511312830263,
                        "l": 127.5757906388523,
                        "c": 152.69505936313394
                },
                {
                        "x": "2025-04-10",
                        "o": 144.86527645775368,
                        "h": 146.6969892371935,
                        "l": 134.46315413976572,
                        "c": 139.4472282573828
                },
                {
                        "x": "2025-04-11",
                        "o": 139.96986638068216,
                        "h": 147.89149539156494,
                        "l": 137.33468400837626,
                        "c": 146.79544024342596
                },
                {
                        "x": "2025-04-14",
                        "o": 152.29522937508952,
                        "h": 152.7935858712156,
                        "l": 144.57723513072156,
                        "c": 146.64669933847415
                },
                {
                        "x": "2025-04-15",
                        "o": 147.5833970859753,
                        "h": 150.25848637380736,
                        "l": 145.62986304819304,
                        "c": 147.2668694130916
                },
                {
                        "x": "2025-04-16",
                        "o": 141.30066287973256,
                        "h": 145.03022797523084,
                        "l": 137.55912868747848,
                        "c": 142.80967245135727
                },
                {
                        "x": "2025-04-17",
                        "o": 144.96207426291016,
                        "h": 145.5204263392704,
                        "l": 139.24794744267976,
                        "c": 141.18392229184457
                },
                {
                        "x": "2025-04-21",
                        "o": 138.53924961039775,
                        "h": 139.22317942782064,
                        "l": 133.62752991027267,
                        "c": 136.48206212342578
                },
                {
                        "x": "2025-04-22",
                        "o": 138.02151431913498,
                        "h": 141.35953013974245,
                        "l": 136.2118117352286,
                        "c": 139.13785125814292
                },
                {
                        "x": "2025-04-23",
                        "o": 147.9533516962047,
                        "h": 150.35787092354252,
                        "l": 144.6741354570929,
                        "c": 145.74885868655656
                },
                {
                        "x": "2025-04-24",
                        "o": 147.90277646629806,
                        "h": 155.82354636447698,
                        "l": 147.09065388140883,
                        "c": 155.04541834129762
                },
                {
                        "x": "2025-04-25",
                        "o": 154.595916821242,
                        "h": 158.49585413870463,
                        "l": 153.04965836272245,
                        "c": 157.3368673136529
                },
                {
                        "x": "2025-04-28",
                        "o": 156.43912942167808,
                        "h": 158.6204630703808,
                        "l": 152.75211110511776,
                        "c": 157.0273660002986
                },
                {
                        "x": "2025-04-29",
                        "o": 156.67846467344992,
                        "h": 158.93896303506526,
                        "l": 154.79952655789688,
                        "c": 157.09078671408034
                },
                {
                        "x": "2025-04-30",
                        "o": 151.4819313797652,
                        "h": 158.13825499203452,
                        "l": 150.40419429150035,
                        "c": 157.64164280386362
                },
                {
                        "x": "2025-05-01",
                        "o": 160.76234512589474,
                        "h": 163.57733842552292,
                        "l": 158.81597214278776,
                        "c": 160.0822841619067
                },
                {
                        "x": "2025-05-02",
                        "o": 163.7111694308423,
                        "h": 168.63268732451593,
                        "l": 162.18669839892002,
                        "c": 166.37427988782977
                },
                {
                        "x": "2025-05-05",
                        "o": 164.96487208016526,
                        "h": 167.92799525127307,
                        "l": 163.74799547497793,
                        "c": 165.12903771792372
                },
                {
                        "x": "2025-05-06",
                        "o": 162.47796265316762,
                        "h": 166.35094549692676,
                        "l": 161.1637310834306,
                        "c": 164.37254536789013
                },
                {
                        "x": "2025-05-07",
                        "o": 164.18618474836816,
                        "h": 168.66318297731735,
                        "l": 162.3565555406731,
                        "c": 167.44516687554372
                },
                {
                        "x": "2025-05-08",
                        "o": 169.98410824767487,
                        "h": 172.00039232190716,
                        "l": 166.23259460824409,
                        "c": 168.9444940627202
                },
                {
                        "x": "2025-05-09",
                        "o": 170.08514105086778,
                        "h": 171.64273429712628,
                        "l": 166.51256939800763,
                        "c": 168.47943241334804
                },
                {
                        "x": "2025-05-12",
                        "o": 179.1270968301036,
                        "h": 183.04824306405555,
                        "l": 175.83547280079435,
                        "c": 180.97357438457956
                },
                {
                        "x": "2025-05-13",
                        "o": 180.4594130616844,
                        "h": 189.9328004847505,
                        "l": 179.9080902572238,
                        "c": 187.63227597444276
                },
                {
                        "x": "2025-05-14",
                        "o": 188.33042934078523,
                        "h": 191.896857278399,
                        "l": 185.1607847442201,
                        "c": 187.88947192033905
                },
                {
                        "x": "2025-05-15",
                        "o": 186.09866571366743,
                        "h": 188.24291132036825,
                        "l": 182.1713307452821,
                        "c": 185.41839558172373
                },
                {
                        "x": "2025-05-16",
                        "o": 185.96911749954023,
                        "h": 187.5478333130821,
                        "l": 182.78813610818747,
                        "c": 186.1452171103609
                },
                {
                        "x": "2025-05-19",
                        "o": 181.06648432315308,
                        "h": 185.76411175566216,
                        "l": 180.39757607437588,
                        "c": 184.73260703957524
                },
                {
                        "x": "2025-05-20",
                        "o": 183.16875803575013,
                        "h": 185.33098665857807,
                        "l": 182.03876793412851,
                        "c": 184.671002152978
                },
                {
                        "x": "2025-05-21",
                        "o": 182.5811826632026,
                        "h": 186.95695677397367,
                        "l": 179.69252630803834,
                        "c": 181.02033677702357
                },
                {
                        "x": "2025-05-22",
                        "o": 181.0066498689661,
                        "h": 185.5865013020692,
                        "l": 179.5222624910506,
                        "c": 181.8515866616704
                },
                {
                        "x": "2025-05-23",
                        "o": 177.47072447971223,
                        "h": 181.9620922469922,
                        "l": 176.76190461801147,
                        "c": 180.5430808062597
                },
                {
                        "x": "2025-05-27",
                        "o": 184.50091113281516,
                        "h": 186.8557276292784,
                        "l": 182.38916130091096,
                        "c": 185.7741615164871
                },
                {
                        "x": "2025-05-28",
                        "o": 186.01614097478333,
                        "h": 187.70175339947997,
                        "l": 183.60088110105204,
                        "c": 185.17369630068916
                },
                {
                        "x": "2025-05-29",
                        "o": 190.28288585460584,
                        "h": 190.7557881345936,
                        "l": 184.45169279714133,
                        "c": 186.45277780186817
                },
                {
                        "x": "2025-05-30",
                        "o": 185.1528557104305,
                        "h": 187.0946236854106,
                        "l": 179.150258865598,
                        "c": 183.9371453418701
                },
                {
                        "x": "2025-06-02",
                        "o": 183.9601437718925,
                        "h": 188.337175569659,
                        "l": 183.03944576262325,
                        "c": 187.4771184440325
                },
                {
                        "x": "2025-06-03",
                        "o": 188.12117846964105,
                        "h": 192.98018994372012,
                        "l": 186.4901137090214,
                        "c": 191.72553200805112
                },
                {
                        "x": "2025-06-04",
                        "o": 193.03624350061352,
                        "h": 197.9994899660068,
                        "l": 191.75522734977164,
                        "c": 193.81838807003547
                },
                {
                        "x": "2025-06-05",
                        "o": 194.8539955867525,
                        "h": 197.24281750454355,
                        "l": 190.46956901701725,
                        "c": 192.0139351049639
                },
                {
                        "x": "2025-06-06",
                        "o": 193.23846660757772,
                        "h": 195.60191866401144,
                        "l": 190.4615390030099,
                        "c": 192.1421837987582
                },
                {
                        "x": "2025-06-09",
                        "o": 193.0536372350381,
                        "h": 196.23551433317496,
                        "l": 190.6029442990872,
                        "c": 193.69592881810937
                },
                {
                        "x": "2025-06-10",
                        "o": 194.15724591855152,
                        "h": 198.2812465160744,
                        "l": 191.88516749545423,
                        "c": 196.28765000032212
                },
                {
                        "x": "2025-06-11",
                        "o": 197.47882906932443,
                        "h": 200.09000801496595,
                        "l": 193.1857829074186,
                        "c": 196.61296075604207
                },
                {
                        "x": "2025-06-12",
                        "o": 194.9703882403938,
                        "h": 199.23570284695825,
                        "l": 194.1917166776885,
                        "c": 196.98011774439675
                },
                {
                        "x": "2025-06-13",
                        "o": 192.8624939004708,
                        "h": 194.93973308431976,
                        "l": 188.64473585361296,
                        "c": 189.87585792312063
                },
                {
                        "x": "2025-06-16",
                        "o": 192.21062020532835,
                        "h": 197.86352406162365,
                        "l": 191.50830926322664,
                        "c": 195.3915124670272
                },
                {
                        "x": "2025-06-17",
                        "o": 194.2510635359296,
                        "h": 196.9688926946737,
                        "l": 192.2785746018234,
                        "c": 193.14901443649
                },
                {
                        "x": "2025-06-18",
                        "o": 193.64232397221423,
                        "h": 197.2104496823292,
                        "l": 191.67507242859108,
                        "c": 194.09204146497987
                },
                {
                        "x": "2025-06-20",
                        "o": 196.2209290019348,
                        "h": 196.8688802661901,
                        "l": 190.18153759113557,
                        "c": 192.9489907604332
                },
                {
                        "x": "2025-06-23",
                        "o": 192.42057306714796,
                        "h": 196.06826995843207,
                        "l": 189.1261446614717,
                        "c": 194.9732032345255
                },
                {
                        "x": "2025-06-24",
                        "o": 198.27172234641728,
                        "h": 202.3223679739398,
                        "l": 196.686721988403,
                        "c": 200.62042151780943
                },
                {
                        "x": "2025-06-25",
                        "o": 201.33548424884088,
                        "h": 204.62858680564483,
                        "l": 199.5511978012964,
                        "c": 202.66992946930492
                },
                {
                        "x": "2025-06-26",
                        "o": 204.06571863405532,
                        "h": 207.64455935786145,
                        "l": 201.2172344920255,
                        "c": 205.3218531864446
                },
                {
                        "x": "2025-06-27",
                        "o": 205.3994970017932,
                        "h": 207.6324470101896,
                        "l": 202.42630585208744,
                        "c": 204.89584514211984
                },
                {
                        "x": "2025-06-30",
                        "o": 206.4751382332778,
                        "h": 208.2330605570867,
                        "l": 203.37317021336827,
                        "c": 206.24717287025103
                },
                {
                        "x": "2025-07-01",
                        "o": 208.52510313031337,
                        "h": 212.1821720074183,
                        "l": 202.48587514104628,
                        "c": 207.08823699788232
                },
                {
                        "x": "2025-07-02",
                        "o": 206.14911734416225,
                        "h": 212.0382587950564,
                        "l": 204.31944246611585,
                        "c": 210.42160219347065
                },
                {
                        "x": "2025-07-03",
                        "o": 211.690619188432,
                        "h": 214.6615595682232,
                        "l": 209.57530940590496,
                        "c": 211.95962720129015
                },
                {
                        "x": "2025-07-07",
                        "o": 210.54142486265133,
                        "h": 212.6000466962941,
                        "l": 207.8086986868654,
                        "c": 209.34565396617063
                },
                {
                        "x": "2025-07-08",
                        "o": 211.70983256120616,
                        "h": 214.51376479013592,
                        "l": 208.85864244130977,
                        "c": 211.56583492425813
                },
                {
                        "x": "2025-07-09",
                        "o": 212.33637621766013,
                        "h": 216.830301246336,
                        "l": 207.95488874953028,
                        "c": 212.4982264387544
                },
                {
                        "x": "2025-07-10",
                        "o": 214.0483384137537,
                        "h": 214.51989555591072,
                        "l": 207.29804407304655,
                        "c": 209.18630166201797
                },
                {
                        "x": "2025-07-11",
                        "o": 208.7365638819261,
                        "h": 211.4233720486587,
                        "l": 205.87669324687232,
                        "c": 208.58786201305207
                },
                {
                        "x": "2025-07-14",
                        "o": 207.3443308293709,
                        "h": 208.91278122069127,
                        "l": 202.49857545126557,
                        "c": 206.6348754172232
                },
                {
                        "x": "2025-07-15",
                        "o": 211.44102297075497,
                        "h": 213.84216863270163,
                        "l": 206.95118232051956,
                        "c": 208.2973546307512
                },
                {
                        "x": "2025-07-16",
                        "o": 208.3800518855108,
                        "h": 209.74180481807352,
                        "l": 202.8960208949973,
                        "c": 207.92309171882
                },
                {
                        "x": "2025-07-17",
                        "o": 207.2387863848176,
                        "h": 210.5516927962462,
                        "l": 205.34538084723232,
                        "c": 208.98654866948104
                },
                {
                        "x": "2025-07-18",
                        "o": 210.22996161139835,
                        "h": 211.84879781496196,
                        "l": 206.8909693108252,
                        "c": 210.24234599224727
                },
                {
                        "x": "2025-07-21",
                        "o": 210.68301217595192,
                        "h": 213.61425073460543,
                        "l": 209.2099630452004,
                        "c": 210.49133624879855
                },
                {
                        "x": "2025-07-22",
                        "o": 210.26960606831548,
                        "h": 211.20390843932475,
                        "l": 203.3710462678192,
                        "c": 206.5571369134065
                },
                {
                        "x": "2025-07-23",
                        "o": 207.28609848834705,
                        "h": 209.5791075275194,
                        "l": 203.09153358615788,
                        "c": 207.6850817933073
                },
                {
                        "x": "2025-07-24",
                        "o": 209.10453688792137,
                        "h": 210.9406412539261,
                        "l": 205.6656818796693,
                        "c": 208.8104502434266
                },
                {
                        "x": "2025-07-25",
                        "o": 208.51537879130728,
                        "h": 210.8378576342854,
                        "l": 206.94424806883424,
                        "c": 209.55753856788797
                },
                {
                        "x": "2025-07-28",
                        "o": 211.33387436366613,
                        "h": 215.2866850092836,
                        "l": 210.14767633593053,
                        "c": 214.3512048007954
                },
                {
                        "x": "2025-07-29",
                        "o": 216.36358080711543,
                        "h": 222.5858691081072,
                        "l": 210.6632076723875,
                        "c": 216.1461278490821
                },
                {
                        "x": "2025-07-30",
                        "o": 217.3416838434887,
                        "h": 221.81526541267348,
                        "l": 215.1819689551297,
                        "c": 218.951981671736
                },
                {
                        "x": "2025-07-31",
                        "o": 219.2618881436117,
                        "h": 221.25703527334167,
                        "l": 211.17330604479088,
                        "c": 213.1455732467135
                },
                {
                        "x": "2025-08-01",
                        "o": 213.4711023779184,
                        "h": 222.27362024760765,
                        "l": 207.3327330010389,
                        "c": 218.3090132267286
                },
                {
                        "x": "2025-08-04",
                        "o": 220.6738383808824,
                        "h": 227.5021608492293,
                        "l": 218.2016988718467,
                        "c": 226.62195570857864
                },
                {
                        "x": "2025-08-05",
                        "o": 226.8153950391783,
                        "h": 228.4509247800979,
                        "l": 217.77988696343652,
                        "c": 222.05952887050395
                },
                {
                        "x": "2025-08-06",
                        "o": 220.86116390234727,
                        "h": 224.68201935406245,
                        "l": 218.82291887130268,
                        "c": 223.94698722467456
                },
                {
                        "x": "2025-08-07",
                        "o": 226.9322718334948,
                        "h": 228.758155428024,
                        "l": 219.81208348450693,
                        "c": 222.93824744269463
                },
                {
                        "x": "2025-08-08",
                        "o": 223.20627462534236,
                        "h": 227.5960384862426,
                        "l": 221.63443559446688,
                        "c": 224.71145457987416
                },
                {
                        "x": "2025-08-11",
                        "o": 225.7181151343732,
                        "h": 228.70494923923167,
                        "l": 222.83820474153816,
                        "c": 224.31055370037416
                },
                {
                        "x": "2025-08-12",
                        "o": 226.55019019711384,
                        "h": 233.471890354302,
                        "l": 224.74226550901457,
                        "c": 232.58887423528293
                },
                {
                        "x": "2025-08-13",
                        "o": 234.2643571985313,
                        "h": 237.12788819806696,
                        "l": 229.54764912145177,
                        "c": 233.6520665341753
                },
                {
                        "x": "2025-08-14",
                        "o": 230.79158106771828,
                        "h": 234.177975917474,
                        "l": 228.74776395769487,
                        "c": 232.0526686271033
                },
                {
                        "x": "2025-08-15",
                        "o": 232.06865844418303,
                        "h": 232.9205105905644,
                        "l": 225.74110258991115,
                        "c": 228.57118555051608
                },
                {
                        "x": "2025-08-18",
                        "o": 227.83339874284223,
                        "h": 232.8359370582244,
                        "l": 226.75253745623627,
                        "c": 231.8854029761275
                },
                {
                        "x": "2025-08-19",
                        "o": 233.32763523921176,
                        "h": 235.4271368223708,
                        "l": 227.26301913845077,
                        "c": 228.60268371498023
                },
                {
                        "x": "2025-08-20",
                        "o": 227.46118004881197,
                        "h": 229.3795744227235,
                        "l": 218.99999692437189,
                        "c": 225.5727568144852
                },
                {
                        "x": "2025-08-21",
                        "o": 223.7963106735437,
                        "h": 226.73031968471207,
                        "l": 221.9063672034446,
                        "c": 224.31734378837956
                },
                {
                        "x": "2025-08-22",
                        "o": 224.5826440726352,
                        "h": 232.69725553399007,
                        "l": 223.5200029094067,
                        "c": 229.1688504482964
                },
                {
                        "x": "2025-08-25",
                        "o": 228.83133377768075,
                        "h": 231.65298477527477,
                        "l": 226.4831691697332,
                        "c": 228.4176874719489
                },
                {
                        "x": "2025-08-26",
                        "o": 228.69196880809295,
                        "h": 232.73250995806285,
                        "l": 228.05278317493807,
                        "c": 230.46205149392856
                },
                {
                        "x": "2025-08-27",
                        "o": 230.3955231159456,
                        "h": 234.4955726253482,
                        "l": 228.708041444046,
                        "c": 233.46458429138144
                },
                {
                        "x": "2025-08-28",
                        "o": 233.99086741255783,
                        "h": 238.45963001152708,
                        "l": 232.00962714003003,
                        "c": 235.23224748322687
                },
                {
                        "x": "2025-08-29",
                        "o": 233.6439873718219,
                        "h": 234.57336362481595,
                        "l": 226.76206169369627,
                        "c": 229.1218670887903
                }
        ],
        "performance": {
                "1D": -0.025975947004767103,
                "1W": 0.015733771774682742,
                "1M": 0.08979885097571748,
                "3M": 0.6467256394789348,
                "6M": 0.28016450769903634,
                "1Y": 0.14998950607815087,
                "YTD": 0.38784302083747874,
                "MTD": 0.011031196745236801,
                "ALL": 0.16644425821553682
        },
        "priceLevels": {
                "current": 229.1218670887903,
                "ath": 235.23224748322687,
                "atl": 128.45072154857658,
                "distanceFromATH": -2.5975947004767104,
                "distanceFromATL": 78.37335931362801,
                "athDate": "2025-08-28",
                "atlDate": "2025-04-04"
        },
        "riskMetrics": {
                "volatility1Y": 47.53669806294745,
                "volatility3M": 23.36865798160352,
                "downsideDeviation": 39.51460324425698,
                "maxDrawdown": -42.64938091906696,
                "currentDrawdown": -2.597594700476707,
                "avgDrawdown": -15.960426805452634,
                "maxDrawdownDate": "2025-04-04",
                "avgDrawdownDuration": 44.5,
                "sharpeRatio": 0.5163340274464303,
                "sortinoRatio": 0.04050380454471255,
                "calmarRatio": 0.5957183572039683,
                "var95": -4.867897115669672,
                "var99": -8.931084783511709,
                "cvar95": -8.019625594197546,
                "cvar99": -11.62108396022446,
                "winRate": 55.821917808219176,
                "gainPainRatio": 1.1004167146417918,
                "skewness": -0.0663503153912788,
                "kurtosis": 6.125120687635488,
                "annualReturn": 25.407019136872837
        },
        "holdings": [
                {
                        "symbol": "NVDA",
                        "name": "NVIDIA Corporation",
                        "weight": 14.003025910968098
                },
                {
                        "symbol": "AVGO",
                        "name": "Broadcom Inc.",
                        "weight": 14.003025910968098
                },
                {
                        "symbol": "MU",
                        "name": "Micron Technology, Inc.",
                        "weight": 13.999999999999998
                },
                {
                        "symbol": "APH",
                        "name": "Amphenol Corporation",
                        "weight": 13.999999999999998
                },
                {
                        "symbol": "MPWR",
                        "name": "Monolithic Power Systems, Inc.",
                        "weight": 10.810478442450854
                },
                {
                        "symbol": "SMCI",
                        "name": "Super Micro Computer, Inc.",
                        "weight": 8.494535790658384
                },
                {
                        "symbol": "IOT",
                        "name": "Samsara Inc.",
                        "weight": 6.724244334917436
                },
                {
                        "symbol": "CYBR",
                        "name": "CyberArk Software Ltd.",
                        "weight": 5.938378800334633
                },
                {
                        "symbol": "RBRK",
                        "name": "RBRK",
                        "weight": 4.9367434560821515
                },
                {
                        "symbol": "KVYO",
                        "name": "Klaviyo, Inc.",
                        "weight": 2.755787395309015
                }
        ],
        "portfolioManagement": {
                "lastRebalanceDate": "2025-07-01",
                "nextRebalanceDate": "2025-09-30",
                "rebalanceFrequency": "Quarterly",
                "daysUntilRebalance": 32,
                "totalHoldings": 14,
                "turnoverRate": 12.5,
                "avgHoldingPeriod": "8.2 months"
        },
        "trendAnalysis": {
                "currentTrend": "Decline from Peak",
                "trendType": "bearish",
                "trendStrength": "weak",
                "trendDescription": "Declining 3.9% from recent peak",
                "lastPeak": {
                        "price": 238.45963001152708,
                        "date": "2025-08-28",
                        "changePercent": -3.92,
                        "daysSince": 1
                },
                "lastValley": {
                        "price": 120.0602068345676,
                        "date": "2025-04-07",
                        "changePercent": 90.84,
                        "daysSince": 144
                },
                "supportLevel": 147.41,
                "resistanceLevel": 240.58
        }
};

        // Helper function to get volatility label
        function getVolatilityLabel(volatility) {
            if (volatility < 15) return 'Low';
            if (volatility < 25) return 'Moderate';
            if (volatility < 35) return 'High';
            return 'Very High';
        }

        // Helper function to get risk-adjusted return label
        function getRiskAdjustedLabel(ratio) {
            if (ratio < 0) return 'Poor';
            if (ratio < 0.5) return 'Below Average';
            if (ratio < 1) return 'Average';
            if (ratio < 1.5) return 'Good';
            return 'Excellent';
        }

        function populatePerformanceMetrics() {
            const container = document.getElementById('performanceGrid');
            const performance = sampleData.performance;

            const performanceItems = [
                { label: '1D', value: performance['1D'] },
                { label: '1W', value: performance['1W'] },
                { label: '1M', value: performance['1M'] },
                { label: '3M', value: performance['3M'] },
                { label: '6M', value: performance['6M'] },
                { label: '1Y', value: performance['1Y'] },
                { label: 'YTD', value: performance['YTD'] },
                { label: 'MTD', value: performance['MTD'] },
                { label: 'ALL', value: performance['ALL'] }
            ];

            container.innerHTML = '';
            performanceItems.forEach(item => {
                const valuePercent = (item.value * 100).toFixed(2);
                const valueClass = item.value > 0 ? 'positive' : item.value < 0 ? 'negative' : 'neutral';
                const sign = item.value > 0 ? '+' : '';

                const element = document.createElement('div');
                element.className = 'performance-item';
                element.innerHTML = `
                    <div class="performance-label">${item.label}</div>
                    <div class="performance-value ${valueClass}">${sign}${valuePercent}%</div>
                `;
                container.appendChild(element);
            });
        }

        function populatePriceLevels() {
            const container = document.getElementById('priceLevels');
            const priceLevels = sampleData.priceLevels;

            container.innerHTML = `
                <div class="info-row">
                    <span class="info-label">Current Price</span>
                    <span class="info-value">$${priceLevels.current.toFixed(2)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">All-Time High</span>
                    <span class="info-value">$${priceLevels.ath.toFixed(2)} <small>(${priceLevels.athDate})</small></span>
                </div>
                <div class="info-row">
                    <span class="info-label">All-Time Low</span>
                    <span class="info-value">$${priceLevels.atl.toFixed(2)} <small>(${priceLevels.atlDate})</small></span>
                </div>
                <div class="info-row">
                    <span class="info-label">From ATH</span>
                    <span class="info-value ${priceLevels.distanceFromATH < 0 ? 'negative' : 'positive'}">${priceLevels.distanceFromATH.toFixed(2)}%</span>
                </div>
                <div class="info-row">
                    <span class="info-label">From ATL</span>
                    <span class="info-value positive">+${priceLevels.distanceFromATL.toFixed(2)}%</span>
                </div>
            `;
        }

        function populateRiskMetrics() {
            const container = document.getElementById('riskMetrics');
            const data = sampleData.riskMetrics;

            container.innerHTML = `
                <div class="risk-section">
                    <h4 class="risk-section-title">📊 Volatility & Risk</h4>
                    <div class="info-row">
                        <span class="info-label">1Y Volatility</span>
                        <span class="info-value">${data.volatility1Y.toFixed(1)}% <small>(${getVolatilityLabel(data.volatility1Y)})</small></span>
                    </div>
                    <div class="info-note">Measures price fluctuation over 1 year. Higher volatility means higher risk and potential reward.</div>
                    <div class="info-row">
                        <span class="info-label">3M Volatility</span>
                        <span class="info-value">${data.volatility3M.toFixed(1)}% <small>(${getVolatilityLabel(data.volatility3M)})</small></span>
                    </div>
                    <div class="info-note">Shows recent (3 months) price swings. Useful for short-term risk assessment.</div>
                    <div class="info-row">
                        <span class="info-label">Downside Deviation</span>
                        <span class="info-value">${data.downsideDeviation.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Focuses on negative volatility (losses), highlighting risk of downside moves.</div>
                </div>

                <div class="risk-section">
                    <h4 class="risk-section-title">📉 Drawdown Analysis</h4>
                    <div class="info-row">
                        <span class="info-label">Max Drawdown</span>
                        <span class="info-value negative">${data.maxDrawdown.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Largest observed loss from a peak to a trough. Indicates worst-case loss scenario.</div>
                    <div class="info-row">
                        <span class="info-label">Current Drawdown</span>
                        <span class="info-value ${data.currentDrawdown >= 0 ? 'positive' : 'negative'}">${data.currentDrawdown.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Shows how far the current value is below its recent peak. Useful for timing entries/exits.</div>
                    <div class="info-row">
                        <span class="info-label">Avg Drawdown</span>
                        <span class="info-value negative">${data.avgDrawdown.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Average size of all drawdowns. Indicates typical loss during downturns.</div>
                    <div class="info-row">
                        <span class="info-label">Avg DD Duration</span>
                        <span class="info-value">${data.avgDrawdownDuration.toFixed(0)} days</span>
                    </div>
                    <div class="info-note">Average time to recover from drawdowns. Shorter is generally better.</div>
                </div>

                <div class="risk-section">
                    <h4 class="risk-section-title">⚖️ Risk-Adjusted Returns</h4>
                    <div class="info-row">
                        <span class="info-label">Sharpe Ratio</span>
                        <span class="info-value">${data.sharpeRatio.toFixed(2)} <small>(${getRiskAdjustedLabel(data.sharpeRatio)})</small></span>
                    </div>
                    <div class="info-note">Measures return per unit of total risk. Higher is better for risk-adjusted performance.</div>
                    <div class="info-row">
                        <span class="info-label">Sortino Ratio</span>
                        <span class="info-value">${data.sortinoRatio.toFixed(2)} <small>(${getRiskAdjustedLabel(data.sortinoRatio)})</small></span>
                    </div>
                    <div class="info-note">Like Sharpe, but only penalizes downside risk. Useful for investors more concerned with losses.</div>
                    <div class="info-row">
                        <span class="info-label">Calmar Ratio</span>
                        <span class="info-value">${data.calmarRatio.toFixed(2)} <small>(${getRiskAdjustedLabel(data.calmarRatio)})</small></span>
                    </div>
                    <div class="info-note">Annual return divided by max drawdown. Shows reward relative to worst loss.</div>
                    <div class="info-row">
                        <span class="info-label">Annual Return</span>
                        <span class="info-value positive">${data.annualReturn.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Average yearly gain. Indicates long-term growth potential.</div>
                </div>

                <div class="risk-section">
                    <h4 class="risk-section-title">📈 Performance Metrics</h4>
                    <div class="info-row">
                        <span class="info-label">Win Rate</span>
                        <span class="info-value">${data.winRate.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Percentage of profitable trades or periods. Higher win rate can mean more consistent results.</div>
                    <div class="info-row">
                        <span class="info-label">Gain/Pain Ratio</span>
                        <span class="info-value">${data.gainPainRatio.toFixed(2)}</span>
                    </div>
                    <div class="info-note">Compares total gains to total losses. Higher values indicate better risk/reward balance.</div>
                </div>

                <div class="risk-section">
                    <h4 class="risk-section-title">📊 Value at Risk (VaR)</h4>
                    <div class="info-row">
                        <span class="info-label">VaR 95%</span>
                        <span class="info-value negative">${data.var95.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Maximum expected loss with 95% confidence over a period. Used for risk management.</div>
                    <div class="info-row">
                        <span class="info-label">VaR 99%</span>
                        <span class="info-value negative">${data.var99.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Stricter version of VaR (99% confidence). Shows potential for rare, extreme losses.</div>
                    <div class="info-row">
                        <span class="info-label">CVaR 95%</span>
                        <span class="info-value negative">${data.cvar95.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Average loss in the worst 5% of cases. Highlights tail risk beyond VaR.</div>
                    <div class="info-row">
                        <span class="info-label">CVaR 99%</span>
                        <span class="info-value negative">${data.cvar99.toFixed(1)}%</span>
                    </div>
                    <div class="info-note">Average loss in the worst 1% of cases. Useful for stress-testing portfolios.</div>
                </div>

                <div class="risk-section">
                    <h4 class="risk-section-title">📐 Distribution Analysis</h4>
                    <div class="info-row">
                        <span class="info-label">Skewness</span>
                        <span class="info-value">${data.skewness.toFixed(3)}</span>
                    </div>
                    <div class="info-note">Indicates asymmetry of returns. Positive skew means more large gains, negative means more large losses.</div>
                    <div class="info-row">
                        <span class="info-label">Kurtosis</span>
                        <span class="info-value">${data.kurtosis.toFixed(2)}</span>
                    </div>
                    <div class="info-note">Measures fat tails/extreme events. High kurtosis means more risk of outlier moves.</div>
                    <div class="info-row">
                        <span class="info-label">Max DD Date</span>
                        <span class="info-value">${data.maxDrawdownDate}</span>
                    </div>
                    <div class="info-note">Date when the largest drawdown occurred. Useful for historical context.</div>
                </div>
            `;
        }

        function populateHoldings() {
            const container = document.getElementById('holdingsList');
            const subtitleContainer = document.getElementById('holdingsSubtitle');
            container.innerHTML = '';

            // Populate the subtitle with last rebalance date info
            const lastRebalanceDate = formatDate(sampleData.portfolioManagement.lastRebalanceDate);
            subtitleContainer.innerHTML = `As of last rebalance: ${lastRebalanceDate} • Holdings and tickers are subject to change`;

            sampleData.holdings.forEach((holding) => {
                const item = document.createElement('div');
                item.className = 'holding-item';

                item.innerHTML = `
                    <div class="holding-info">
                        <div class="holding-symbol">${holding.symbol}</div>
                        <div class="holding-name">${holding.name}</div>
                    </div>
                    <div class="holding-weight">${holding.weight.toFixed(1)}%</div>
                `;

                container.appendChild(item);
            });
        }

        function populatePortfolioInfo() {
            const container = document.getElementById('portfolioInfo');
            const data = sampleData.portfolioManagement;

            const getRebalanceStatus = (daysUntil) => {
                if (daysUntil < 7) return { class: 'due', text: 'Due Soon' };
                if (daysUntil < 0) return { class: 'overdue', text: 'Overdue' };
                return { class: 'recent', text: 'On Schedule' };
            };

            const rebalanceStatus = getRebalanceStatus(data.daysUntilRebalance);

            container.innerHTML = `
                <div class="info-row">
                    <span class="info-label">Last Rebalance</span>
                    <span class="info-value">${formatDate(data.lastRebalanceDate)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Next Rebalance</span>
                    <span class="info-value">${formatDate(data.nextRebalanceDate)}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Frequency</span>
                    <span class="info-value">${data.rebalanceFrequency}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Status</span>
                    <span class="info-value">
                        <div class="rebalance-status">
                            <div class="status-indicator ${rebalanceStatus.class}"></div>
                            ${rebalanceStatus.text} (${data.daysUntilRebalance} days)
                        </div>
                    </span>
                </div>
                <div class="info-row">
                    <span class="info-label">Total Holdings</span>
                    <span class="info-value">${data.totalHoldings}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Turnover Rate</span>
                    <span class="info-value">${data.turnoverRate.toFixed(1)}%</span>
                </div>
            `;
        }

        function populateTrendAnalysis() {
            const container = document.getElementById('trendAnalysis');
            const trendData = sampleData.trendAnalysis;
            const currentPrice = sampleData.currentPrice;

            // Calculate percentage changes from current price
            const peakChangePercent = ((currentPrice - trendData.lastPeak.price) / trendData.lastPeak.price * 100);
            const valleyChangePercent = ((currentPrice - trendData.lastValley.price) / trendData.lastValley.price * 100);

            // Determine trend status class
            const getTrendStatusClass = (trend) => {
                switch (trend.toLowerCase()) {
                    case 'bullish':
                    case 'uptrend':
                        return 'bullish';
                    case 'bearish':
                    case 'downtrend':
                        return 'bearish';
                    default:
                        return 'neutral';
                }
            };

            const formatDaysAgo = (days) => {
                if (days === 0) return 'Today';
                if (days === 1) return '1 day ago';
                return `${days} days ago`;
            };

            // Instead of card-inside-card, use a single card with a flex row for peak/valley, and status below
            container.innerHTML = `
                <div class="trend-flex-row" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <div class="trend-card peak" style="flex: 1 1 180px; min-width: 180px;">
                        <div class="trend-header">
                            <div class="trend-title">
                                Last Peak
                            </div>
                            <div class="trend-badge peak">HIGH</div>
                        </div>
                        <div class="trend-price">$${trendData.lastPeak.price.toFixed(2)}</div>
                        <div class="trend-details">
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">Date</span>
                                <span class="trend-detail-value">${formatDate(trendData.lastPeak.date)}</span>
                            </div>
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">Time Ago</span>
                                <span class="trend-detail-value">${formatDaysAgo(trendData.lastPeak.daysSince)}</span>
                            </div>
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">vs Current</span>
                                <span class="trend-detail-value trend-percentage ${peakChangePercent >= 0 ? 'positive' : 'negative'}">
                                    ${peakChangePercent >= 0 ? '+' : ''}${peakChangePercent.toFixed(1)}%
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="trend-card valley" style="flex: 1 1 180px; min-width: 180px;">
                        <div class="trend-header">
                            <div class="trend-title">
                                Last Valley
                            </div>
                            <div class="trend-badge valley">LOW</div>
                        </div>
                        <div class="trend-price">$${trendData.lastValley.price.toFixed(2)}</div>
                        <div class="trend-details">
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">Date</span>
                                <span class="trend-detail-value">${formatDate(trendData.lastValley.date)}</span>
                            </div>
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">Time Ago</span>
                                <span class="trend-detail-value">${formatDaysAgo(trendData.lastValley.daysSince)}</span>
                            </div>
                            <div class="trend-detail-row">
                                <span class="trend-detail-label">vs Current</span>
                                <span class="trend-detail-value trend-percentage ${valleyChangePercent >= 0 ? 'positive' : 'negative'}">
                                    ${valleyChangePercent >= 0 ? '+' : ''}${valleyChangePercent.toFixed(1)}%
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="trend-current-status" style="margin-top: 1rem;">
                    <div class="trend-status-title">Current Market Trend</div>
                    <div class="trend-status-value ${getTrendStatusClass(trendData.currentTrend)}">
                        ${trendData.currentTrend}
                    </div>
                </div>
            `;
        }

        // Convert OHLC data to Chart.js format
        function convertToChartJsFormat(priceData) {
            return priceData.map(item => ({
                x: item.x,
                y: item.c // Use close price for line chart
            }));
        }

        function createCandlestickChart() {
            // Check if Chart.js is available
            if (typeof Chart === 'undefined') {
                console.error('Chart.js library is not loaded');
                createFallbackChart();
                return;
            }

            const chartData = convertToChartJsFormat(sampleData.priceData);

            // Calculate average price for reference line
            const avgPrice = sampleData.priceData.reduce((sum, item) => sum + item.c, 0) / sampleData.priceData.length;
            const avgLineData = chartData.map(point => ({
                x: point.x,
                y: avgPrice
            }));

            const container = document.getElementById('candlestickChart');

            // Clear any existing chart
            container.innerHTML = '<canvas id="priceChart"></canvas>';

            const ctx = document.getElementById('priceChart').getContext('2d');

            // Create gradient for the line based on position relative to average
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, '#00d084'); // Green at top
            gradient.addColorStop(0.5, '#ffa502'); // Yellow in middle (around average)
            gradient.addColorStop(1, '#ff4757'); // Red at bottom

            // Create the chart
            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Halal Healthy Tech Index',
                        data: chartData,
                        segment: {
                            borderColor: function (ctx) {
                                const point = ctx.p1;
                                return point.parsed.y >= avgPrice ? '#00d084' : '#ff4757';
                            },
                            backgroundColor: function (ctx) {
                                const point = ctx.p1;
                                return point.parsed.y >= avgPrice ? 'rgba(0, 208, 132, 0.1)' : 'rgba(255, 71, 87, 0.1)';
                            }
                        },
                        borderWidth: 3,
                        fill: false,
                        tension: 0.1,
                        pointBackgroundColor: function (context) {
                            const point = context.parsed;
                            return point.y >= avgPrice ? '#00d084' : '#ff4757';
                        },
                        pointBorderColor: function (context) {
                            const point = context.parsed;
                            return point.y >= avgPrice ? '#00d084' : '#ff4757';
                        },
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        pointHoverBackgroundColor: function (context) {
                            const point = context.parsed;
                            return point.y >= avgPrice ? '#00d084' : '#ff4757';
                        },
                        pointHoverBorderColor: '#ffffff',
                        pointHoverBorderWidth: 2
                    }, {
                        label: 'Average Price',
                        data: avgLineData,
                        borderColor: '#ffa502',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                color: '#b3b3b3',
                                font: {
                                    family: 'SF Mono, Monaco, monospace',
                                    size: 11
                                },
                                usePointStyle: true,
                                pointStyle: 'line'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(26, 26, 26, 0.95)',
                            titleColor: '#ffffff',
                            bodyColor: '#b3b3b3',
                            borderColor: '#333333',
                            borderWidth: 1,
                            cornerRadius: 8,
                            displayColors: false,
                            titleFont: {
                                family: 'SF Mono, Monaco, monospace',
                                size: 12
                            },
                            bodyFont: {
                                family: 'SF Mono, Monaco, monospace',
                                size: 11
                            },
                            callbacks: {
                                title: function (context) {
                                    return formatDate(context[0].parsed.x);
                                },
                                label: function (context) {
                                    if (context.datasetIndex === 1) {
                                        return `Average: $${context.parsed.y.toFixed(2)}`;
                                    } else if (context.datasetIndex === 0) {
                                        // Get the average price for comparison
                                        const avgPrice = sampleData.priceData.reduce((sum, item) => sum + item.c, 0) / sampleData.priceData.length;
                                        const trend = context.parsed.y >= avgPrice ? ' (Above Avg)' : ' (Below Avg)';
                                        return `Price: $${context.parsed.y.toFixed(2)}${trend}`;
                                    }
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'time',
                            time: {
                                unit: 'day',
                                displayFormats: {
                                    day: 'MMM dd'
                                }
                            },
                            grid: {
                                color: '#333333',
                                lineWidth: 1
                            },
                            ticks: {
                                color: '#b3b3b3',
                                font: {
                                    family: 'SF Mono, Monaco, monospace',
                                    size: 11
                                },
                                maxTicksLimit: 8
                            },
                            border: {
                                color: '#333333'
                            }
                        },
                        y: {
                            grid: {
                                color: '#333333',
                                lineWidth: 1
                            },
                            ticks: {
                                color: '#b3b3b3',
                                font: {
                                    family: 'SF Mono, Monaco, monospace',
                                    size: 11
                                },
                                callback: function (value) {
                                    return '$' + value.toFixed(0);
                                }
                            },
                            border: {
                                color: '#333333'
                            }
                        }
                    },
                    elements: {
                        point: {
                            radius: 0
                        }
                    }
                }
            });

            return chart;
        }

        function createFallbackChart() {
            const canvas = document.getElementById('candlestickChart');
            const container = canvas.parentElement;
            const prices = sampleData.priceData.map(item => item.c);
            const minPrice = Math.min(...prices);
            const maxPrice = Math.max(...prices);
            const priceRange = maxPrice - minPrice;

            // Replace canvas with SVG fallback
            canvas.style.display = 'none';

            // Create a simple SVG chart as fallback
            const svgChart = `
                <svg width="100%" height="300" style="background: var(--chart-bg); border-radius: 8px;">
                    <defs>
                        <linearGradient id="priceGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#00d084;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#00d084;stop-opacity:0.05" />
                        </linearGradient>
                    </defs>
                    ${sampleData.priceData.map((item, index) => {
                const x = (index / (sampleData.priceData.length - 1)) * 80 + 10; // 10% margin on each side
                const y = 90 - ((item.c - minPrice) / priceRange) * 70; // 10% margin top/bottom, 70% chart height
                return `<circle cx="${x}%" cy="${y}%" r="3" fill="#00d084"/>`;
            }).join('')}
                    <polyline fill="url(#priceGradient)" stroke="#00d084" stroke-width="2" points="${sampleData.priceData.map((item, index) => {
                const x = (index / (sampleData.priceData.length - 1)) * 80 + 10;
                const y = 90 - ((item.c - minPrice) / priceRange) * 70;
                return `${x}%,${y}%`;
            }).join(' ')
                } ${90 + ((sampleData.priceData[sampleData.priceData.length - 1].c - minPrice) / priceRange) * 70}%,90% 10%,90%"/>
                    <text x="10%" y="95%" fill="#b3b3b3" font-size="12" font-family="SF Mono, monospace">$${minPrice.toFixed(0)}</text>
                    <text x="10%" y="15%" fill="#b3b3b3" font-size="12" font-family="SF Mono, monospace">$${maxPrice.toFixed(0)}</text>
                    <text x="50%" y="50%" fill="#808080" font-size="14" text-anchor="middle" font-family="SF Mono, monospace">Fallback Chart - Chart.js failed to load</text>
                </svg>
            `;

            // Add SVG after the existing title
            const existingTitle = container.querySelector('.chart-title');
            if (existingTitle) {
                existingTitle.insertAdjacentHTML('afterend', svgChart);
            } else {
                container.insertAdjacentHTML('beforeend', svgChart);
            }
        }

        function updateTimestamp() {
            const timestampElement = document.getElementById('lastUpdate');
            const lastUpdateTime = new Date(sampleData.lastUpdate);

            // Format the timestamp in a user-friendly way
            const options = {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                timeZoneName: 'short'
            };

            const formattedTime = lastUpdateTime.toLocaleString('en-US', options);
            timestampElement.textContent = `Last Update: ${formattedTime}`;
        }

        function formatDate(dateString) {
            if (!dateString) return 'N/A';

            try {
                const date = new Date(dateString);
                const options = {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                };
                return date.toLocaleDateString('en-US', options);
            } catch (error) {
                return dateString; // Return original string if parsing fails
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize other components first
            updateTimestamp();
            populatePerformanceMetrics();
            populatePriceLevels();
            populateRiskMetrics();
            populateHoldings();
            populatePortfolioInfo();
            populateTrendAnalysis();

            // Initialize chart
            createCandlestickChart();
        });

        // Optional: Add auto-refresh functionality
        // setInterval(() => {
        //     // Fetch new data from API and update dashboard
        //     // fetchDataFromAPI().then(data => updateDashboard(data));
        // }, 60000); // Refresh every minute
    </script>
</body>

</html>